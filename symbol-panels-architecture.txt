================================================================================
CONTEXTTYPE PROJECT: CONTEXT-SPECIFIC SYMBOL PANELS
FULL ARCHITECTURE & IMPLEMENTATION GUIDE
================================================================================

PROJECT OVERVIEW
================================================================================

Feature Name: Context-Specific Quick Symbol Panels (Smart Symbol Palette)
Phase: 4 (Extension)
Purpose: Provide one-tap access to context-relevant symbols, eliminating the 
         need to search through keyboard layers for special characters.

PROBLEM STATEMENT
================================================================================

Current Issues:
1. Users waste time searching for special characters on mobile keyboards
2. Programming symbols ([], {}, <>) require multiple taps or long-press
3. Email-specific characters (@, .com domains) are buried in menus
4. Emojis and casual symbols require switching keyboard modes
5. Context-switching between symbol keyboards breaks typing flow

Solution:
A floating symbol panel that displays context-appropriate symbols based on 
writing mode (Code/Email/Chat), accessible via a single button tap.


ARCHITECTURE OVERVIEW
================================================================================

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         FRONTEND (React + TypeScript)                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  MobileKeyboard    â”‚         â”‚  SymbolPanelButton              â”‚    â”‚
â”‚  â”‚  Component         â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”¤  - Floats on keyboard           â”‚    â”‚
â”‚  â”‚                    â”‚         â”‚  - Context-aware icon           â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚           â”‚                                     â”‚                        â”‚
â”‚           â”‚                                     â–¼                        â”‚
â”‚           â”‚                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚           â”‚                     â”‚  SymbolPanel Component          â”‚    â”‚
â”‚           â”‚                     â”‚  - Slide-up animation           â”‚    â”‚
â”‚           â”‚                     â”‚  - Grid layout (4-5 columns)    â”‚    â”‚
â”‚           â”‚                     â”‚  - Touch-optimized buttons      â”‚    â”‚
â”‚           â”‚                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚           â”‚                                     â”‚                        â”‚
â”‚           â–¼                                     â–¼                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚           Context Detection Service                         â”‚        â”‚
â”‚  â”‚  - Monitors text input                                      â”‚        â”‚
â”‚  â”‚  - Determines mode: CODE | EMAIL | CHAT                     â”‚        â”‚
â”‚  â”‚  - Triggers symbol set loading                              â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                                   â”‚                                      â”‚
â”‚                                   â–¼                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚           Symbol Configuration Service                      â”‚        â”‚
â”‚  â”‚  - symbolSets.ts (symbol definitions)                       â”‚        â”‚
â”‚  â”‚  - Returns appropriate symbol array by context              â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                                   â”‚                                      â”‚
â”‚                                   â–¼                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚           State Management (Zustand)                        â”‚        â”‚
â”‚  â”‚  - isPanelOpen: boolean                                     â”‚        â”‚
â”‚  â”‚  - currentContext: 'code' | 'email' | 'chat'                â”‚        â”‚
â”‚  â”‚  - selectedSymbols: string[]                                â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                                                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


COMPONENT ARCHITECTURE
================================================================================

1. SymbolPanelButton.tsx
   â”œâ”€â”€ Floating button (position: fixed or absolute)
   â”œâ”€â”€ Context-aware icon (code/email/chat)
   â”œâ”€â”€ onClick â†’ toggles panel visibility
   â””â”€â”€ Visual feedback (ripple effect)

2. SymbolPanel.tsx
   â”œâ”€â”€ Slide-up animated container
   â”œâ”€â”€ Header (title + close button)
   â”œâ”€â”€ SymbolGrid (4-5 columns)
   â”‚   â””â”€â”€ SymbolButton (each symbol)
   â”œâ”€â”€ Footer (optional: recent symbols)
   â””â”€â”€ Backdrop overlay (dismiss on click outside)

3. SymbolButton.tsx
   â”œâ”€â”€ Touch-optimized (48x48px minimum)
   â”œâ”€â”€ Symbol display (larger font)
   â”œâ”€â”€ Optional label (small text below)
   â”œâ”€â”€ onClick â†’ inserts symbol at cursor
   â””â”€â”€ Visual feedback (haptic + color change)

4. useSymbolPanel.ts (Custom Hook)
   â”œâ”€â”€ Manages panel state
   â”œâ”€â”€ Handles symbol insertion
   â”œâ”€â”€ Tracks recently used symbols
   â””â”€â”€ Syncs with context detection


DATA STRUCTURES
================================================================================

Symbol Definition Interface:

interface Symbol {
  char: string;           // The actual symbol: "{", "ğŸ˜Š", "@"
  label?: string;         // Optional description: "curly brace", "smile"
  category?: string;      // "bracket", "operator", "emoji"
  frequency?: number;     // Usage frequency (for sorting)
}

interface SymbolSet {
  context: 'code' | 'email' | 'chat';
  symbols: Symbol[];
  recentSymbols?: Symbol[];
}

Context State:

interface SymbolPanelState {
  isOpen: boolean;
  currentContext: 'code' | 'email' | 'chat';
  symbols: Symbol[];
  recentSymbols: Symbol[];
  
  // Actions
  togglePanel: () => void;
  closePanel: () => void;
  insertSymbol: (symbol: string) => void;
  setContext: (context: string) => void;
}


SYMBOL SETS CONFIGURATION
================================================================================

File: src/config/symbolSets.ts

export const CODE_SYMBOLS: Symbol[] = [
  // Row 1: Brackets & Parentheses
  { char: '(', label: 'paren', category: 'bracket' },
  { char: ')', label: 'paren', category: 'bracket' },
  { char: '{', label: 'curly', category: 'bracket' },
  { char: '}', label: 'curly', category: 'bracket' },
  { char: '[', label: 'square', category: 'bracket' },
  { char: ']', label: 'square', category: 'bracket' },
  { char: '<', label: 'angle', category: 'bracket' },
  { char: '>', label: 'angle', category: 'bracket' },
  
  // Row 2: Operators
  { char: ';', label: 'semicolon', category: 'punctuation' },
  { char: ':', label: 'colon', category: 'punctuation' },
  { char: '=>', label: 'arrow', category: 'operator' },
  { char: '!=', label: 'not equal', category: 'operator' },
  { char: '===', label: 'strict equal', category: 'operator' },
  { char: '!==', label: 'strict not equal', category: 'operator' },
  
  // Row 3: Logic & Math
  { char: '&&', label: 'and', category: 'operator' },
  { char: '||', label: 'or', category: 'operator' },
  { char: '+=', label: 'plus equals', category: 'operator' },
  { char: '-=', label: 'minus equals', category: 'operator' },
  { char: '*=', label: 'times equals', category: 'operator' },
  { char: '/=', label: 'divide equals', category: 'operator' },
  
  // Row 4: Special Characters
  { char: '//', label: 'comment', category: 'comment' },
  { char: '/*', label: 'block comment', category: 'comment' },
  { char: '*/', label: 'end comment', category: 'comment' },
  { char: '#', label: 'hash', category: 'special' },
  { char: '$', label: 'dollar', category: 'special' },
  { char: '@', label: 'at', category: 'special' },
  { char: '\\', label: 'backslash', category: 'special' },
  { char: '|', label: 'pipe', category: 'special' },
  { char: '^', label: 'caret', category: 'special' },
  { char: '~', label: 'tilde', category: 'special' },
  { char: '`', label: 'backtick', category: 'special' },
];

export const EMAIL_SYMBOLS: Symbol[] = [
  // Row 1: Email Essentials
  { char: '@', label: 'at', category: 'email' },
  { char: '.com', label: 'dot com', category: 'domain' },
  { char: '.org', label: 'dot org', category: 'domain' },
  { char: '.edu', label: 'dot edu', category: 'domain' },
  { char: '.net', label: 'dot net', category: 'domain' },
  { char: '.gov', label: 'dot gov', category: 'domain' },
  
  // Row 2: Common Characters
  { char: '-', label: 'hyphen', category: 'punctuation' },
  { char: '_', label: 'underscore', category: 'punctuation' },
  { char: '/', label: 'slash', category: 'punctuation' },
  { char: '.', label: 'period', category: 'punctuation' },
  
  // Row 3: Professional Punctuation
  { char: 'â€¢', label: 'bullet', category: 'punctuation' },
  { char: 'Â·', label: 'middle dot', category: 'punctuation' },
  { char: 'â€”', label: 'em dash', category: 'punctuation' },
  { char: 'â€“', label: 'en dash', category: 'punctuation' },
  { char: '"', label: 'left quote', category: 'punctuation' },
  { char: '"', label: 'right quote', category: 'punctuation' },
  { char: ''', label: 'left apostrophe', category: 'punctuation' },
  { char: ''', label: 'right apostrophe', category: 'punctuation' },
  
  // Row 4: Symbols
  { char: 'Â©', label: 'copyright', category: 'symbol' },
  { char: 'Â®', label: 'registered', category: 'symbol' },
  { char: 'â„¢', label: 'trademark', category: 'symbol' },
  { char: 'â‚¬', label: 'euro', category: 'currency' },
  { char: 'Â£', label: 'pound', category: 'currency' },
  { char: 'Â¥', label: 'yen', category: 'currency' },
  { char: '$', label: 'dollar', category: 'currency' },
];

export const CHAT_SYMBOLS: Symbol[] = [
  // Row 1: Popular Emojis
  { char: 'ğŸ˜Š', label: 'smile', category: 'emoji' },
  { char: 'ğŸ˜‚', label: 'laughing', category: 'emoji' },
  { char: 'â¤ï¸', label: 'heart', category: 'emoji' },
  { char: 'ğŸ‘', label: 'thumbs up', category: 'emoji' },
  { char: 'ğŸ”¥', label: 'fire', category: 'emoji' },
  { char: 'âœ¨', label: 'sparkles', category: 'emoji' },
  { char: 'ğŸ‰', label: 'party', category: 'emoji' },
  { char: 'ğŸ’¯', label: 'hundred', category: 'emoji' },
  { char: 'ğŸ˜­', label: 'crying', category: 'emoji' },
  { char: 'ğŸ™', label: 'prayer', category: 'emoji' },
  
  // Row 2: Emoticons
  { char: ':)', label: 'smile', category: 'emoticon' },
  { char: ':(', label: 'sad', category: 'emoticon' },
  { char: ':D', label: 'big smile', category: 'emoticon' },
  { char: '<3', label: 'heart', category: 'emoticon' },
  { char: ';)', label: 'wink', category: 'emoticon' },
  { char: ':P', label: 'tongue', category: 'emoticon' },
  { char: '^_^', label: 'happy', category: 'emoticon' },
  { char: 'xD', label: 'laughing', category: 'emoticon' },
  
  // Row 3: Common Abbreviations
  { char: 'lol', label: 'laugh out loud', category: 'abbrev' },
  { char: 'omg', label: 'oh my god', category: 'abbrev' },
  { char: 'btw', label: 'by the way', category: 'abbrev' },
  { char: 'tbh', label: 'to be honest', category: 'abbrev' },
  { char: 'idk', label: "I don't know", category: 'abbrev' },
  { char: 'imo', label: 'in my opinion', category: 'abbrev' },
  
  // Row 4: Casual Punctuation
  { char: '!', label: 'exclamation', category: 'punctuation' },
  { char: '?', label: 'question', category: 'punctuation' },
  { char: '!!', label: 'double exclamation', category: 'punctuation' },
  { char: '??', label: 'double question', category: 'punctuation' },
  { char: '...', label: 'ellipsis', category: 'punctuation' },
  { char: '~', label: 'tilde', category: 'punctuation' },
  { char: '*', label: 'asterisk', category: 'punctuation' },
];

export const getSymbolsByContext = (context: 'code' | 'email' | 'chat'): Symbol[] => {
  switch (context) {
    case 'code':
      return CODE_SYMBOLS;
    case 'email':
      return EMAIL_SYMBOLS;
    case 'chat':
      return CHAT_SYMBOLS;
    default:
      return CODE_SYMBOLS;
  }
};


IMPLEMENTATION STEPS
================================================================================

PHASE 1: SETUP & CONFIGURATION (Day 1)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Step 1.1: Create Project Structure
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Create the following files:

src/
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ SymbolPanel/
â”‚   â”‚   â”œâ”€â”€ SymbolPanel.tsx          (Main panel component)
â”‚   â”‚   â”œâ”€â”€ SymbolPanelButton.tsx    (Trigger button)
â”‚   â”‚   â”œâ”€â”€ SymbolButton.tsx         (Individual symbol button)
â”‚   â”‚   â””â”€â”€ SymbolPanel.module.css   (Styles)
â”‚   â””â”€â”€ MobileKeyboard.tsx           (Update existing)
â”œâ”€â”€ hooks/
â”‚   â””â”€â”€ useSymbolPanel.ts            (Custom hook)
â”œâ”€â”€ config/
â”‚   â””â”€â”€ symbolSets.ts                (Symbol definitions)
â”œâ”€â”€ store/
â”‚   â””â”€â”€ symbolPanelStore.ts          (Zustand store)
â””â”€â”€ types/
    â””â”€â”€ symbol.types.ts              (TypeScript interfaces)

Step 1.2: Define TypeScript Interfaces
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
File: src/types/symbol.types.ts

export interface Symbol {
  char: string;
  label?: string;
  category?: string;
  frequency?: number;
}

export interface SymbolSet {
  context: 'code' | 'email' | 'chat';
  symbols: Symbol[];
  recentSymbols?: Symbol[];
}

export type ContextType = 'code' | 'email' | 'chat';

Step 1.3: Create Symbol Configuration
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
File: src/config/symbolSets.ts

(Use the complete symbol sets configuration from above)

Step 1.4: Setup Zustand Store
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
File: src/store/symbolPanelStore.ts

import { create } from 'zustand';
import { Symbol, ContextType } from '../types/symbol.types';
import { getSymbolsByContext } from '../config/symbolSets';

interface SymbolPanelState {
  isOpen: boolean;
  currentContext: ContextType;
  symbols: Symbol[];
  recentSymbols: Symbol[];
  
  // Actions
  togglePanel: () => void;
  openPanel: () => void;
  closePanel: () => void;
  setContext: (context: ContextType) => void;
  insertSymbol: (symbol: Symbol) => void;
}

export const useSymbolPanelStore = create<SymbolPanelState>((set, get) => ({
  isOpen: false,
  currentContext: 'code',
  symbols: getSymbolsByContext('code'),
  recentSymbols: [],
  
  togglePanel: () => set((state) => ({ isOpen: !state.isOpen })),
  
  openPanel: () => set({ isOpen: true }),
  
  closePanel: () => set({ isOpen: false }),
  
  setContext: (context: ContextType) => set({
    currentContext: context,
    symbols: getSymbolsByContext(context),
  }),
  
  insertSymbol: (symbol: Symbol) => {
    const { recentSymbols } = get();
    
    // Add to recent symbols (max 8)
    const updatedRecent = [
      symbol,
      ...recentSymbols.filter(s => s.char !== symbol.char)
    ].slice(0, 8);
    
    set({ recentSymbols: updatedRecent });
    
    // Note: Actual text insertion happens in the component
  },
}));


PHASE 2: UI COMPONENTS (Day 2-3)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Step 2.1: Create SymbolPanelButton Component
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
File: src/components/SymbolPanel/SymbolPanelButton.tsx

import React from 'react';
import { useSymbolPanelStore } from '../../store/symbolPanelStore';

interface SymbolPanelButtonProps {
  context: 'code' | 'email' | 'chat';
}

export const SymbolPanelButton: React.FC<SymbolPanelButtonProps> = ({ context }) => {
  const { togglePanel, isOpen } = useSymbolPanelStore();
  
  const getIcon = () => {
    switch (context) {
      case 'code':
        return '<>';  // Or use an actual icon library
      case 'email':
        return '@';
      case 'chat':
        return 'ğŸ˜Š';
      default:
        return '#';
    }
  };
  
  return (
    <button
      className={`symbol-panel-button ${isOpen ? 'active' : ''}`}
      onClick={togglePanel}
      aria-label="Open symbol panel"
    >
      {getIcon()}
    </button>
  );
};

CSS for SymbolPanelButton:

.symbol-panel-button {
  position: fixed;
  bottom: 280px;  /* Above keyboard */
  right: 16px;
  width: 56px;
  height: 56px;
  border-radius: 50%;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  border: none;
  font-size: 24px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
  cursor: pointer;
  transition: all 0.3s ease;
  z-index: 1000;
  
  display: flex;
  align-items: center;
  justify-content: center;
}

.symbol-panel-button:hover {
  transform: scale(1.1);
  box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
}

.symbol-panel-button.active {
  background: linear-gradient(135deg, #764ba2 0%, #667eea 100%);
  transform: rotate(45deg);
}

Step 2.2: Create SymbolButton Component
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
File: src/components/SymbolPanel/SymbolButton.tsx

import React from 'react';
import { Symbol } from '../../types/symbol.types';

interface SymbolButtonProps {
  symbol: Symbol;
  onSelect: (symbol: Symbol) => void;
}

export const SymbolButton: React.FC<SymbolButtonProps> = ({ symbol, onSelect }) => {
  const handleClick = () => {
    onSelect(symbol);
    
    // Optional: Haptic feedback on mobile
    if ('vibrate' in navigator) {
      navigator.vibrate(10);
    }
  };
  
  return (
    <button
      className="symbol-button"
      onClick={handleClick}
      aria-label={symbol.label || symbol.char}
    >
      <span className="symbol-char">{symbol.char}</span>
      {symbol.label && (
        <span className="symbol-label">{symbol.label}</span>
      )}
    </button>
  );
};

CSS for SymbolButton:

.symbol-button {
  min-width: 48px;
  min-height: 48px;
  padding: 8px;
  background: white;
  border: 1px solid #e2e8f0;
  border-radius: 8px;
  cursor: pointer;
  transition: all 0.2s ease;
  
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 2px;
}

.symbol-button:hover {
  background: #f7fafc;
  border-color: #667eea;
  transform: scale(1.05);
}

.symbol-button:active {
  transform: scale(0.95);
  background: #edf2f7;
}

.symbol-char {
  font-size: 20px;
  font-weight: 500;
  color: #2d3748;
}

.symbol-label {
  font-size: 9px;
  color: #718096;
  text-align: center;
  max-width: 60px;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

Step 2.3: Create SymbolPanel Component
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
File: src/components/SymbolPanel/SymbolPanel.tsx

import React, { useEffect, useRef } from 'react';
import { useSymbolPanelStore } from '../../store/symbolPanelStore';
import { SymbolButton } from './SymbolButton';
import { Symbol } from '../../types/symbol.types';
import './SymbolPanel.css';

interface SymbolPanelProps {
  onSymbolInsert: (symbolChar: string) => void;
}

export const SymbolPanel: React.FC<SymbolPanelProps> = ({ onSymbolInsert }) => {
  const { 
    isOpen, 
    symbols, 
    recentSymbols, 
    currentContext, 
    closePanel, 
    insertSymbol 
  } = useSymbolPanelStore();
  
  const panelRef = useRef<HTMLDivElement>(null);
  
  // Close on click outside
  useEffect(() => {
    const handleClickOutside = (event: MouseEvent) => {
      if (panelRef.current && !panelRef.current.contains(event.target as Node)) {
        closePanel();
      }
    };
    
    if (isOpen) {
      document.addEventListener('mousedown', handleClickOutside);
    }
    
    return () => {
      document.removeEventListener('mousedown', handleClickOutside);
    };
  }, [isOpen, closePanel]);
  
  // Close on Escape key
  useEffect(() => {
    const handleEscape = (event: KeyboardEvent) => {
      if (event.key === 'Escape') {
        closePanel();
      }
    };
    
    if (isOpen) {
      document.addEventListener('keydown', handleEscape);
    }
    
    return () => {
      document.removeEventListener('keydown', handleEscape);
    };
  }, [isOpen, closePanel]);
  
  const handleSymbolSelect = (symbol: Symbol) => {
    insertSymbol(symbol);
    onSymbolInsert(symbol.char);
    closePanel();
  };
  
  const getContextTitle = () => {
    switch (currentContext) {
      case 'code':
        return 'Code Symbols';
      case 'email':
        return 'Email Symbols';
      case 'chat':
        return 'Chat Symbols';
      default:
        return 'Symbols';
    }
  };
  
  if (!isOpen) return null;
  
  return (
    <>
      {/* Backdrop */}
      <div className="symbol-panel-backdrop" onClick={closePanel} />
      
      {/* Panel */}
      <div ref={panelRef} className={`symbol-panel ${isOpen ? 'open' : ''}`}>
        {/* Header */}
        <div className="symbol-panel-header">
          <h3>{getContextTitle()}</h3>
          <button className="close-button" onClick={closePanel} aria-label="Close">
            Ã—
          </button>
        </div>
        
        {/* Recent Symbols (if any) */}
        {recentSymbols.length > 0 && (
          <div className="symbol-section">
            <div className="section-title">Recent</div>
            <div className="symbol-grid recent">
              {recentSymbols.map((symbol, index) => (
                <SymbolButton
                  key={`recent-${index}`}
                  symbol={symbol}
                  onSelect={handleSymbolSelect}
                />
              ))}
            </div>
          </div>
        )}
        
        {/* All Symbols */}
        <div className="symbol-section">
          <div className="section-title">All Symbols</div>
          <div className="symbol-grid">
            {symbols.map((symbol, index) => (
              <SymbolButton
                key={`symbol-${index}`}
                symbol={symbol}
                onSelect={handleSymbolSelect}
              />
            ))}
          </div>
        </div>
      </div>
    </>
  );
};

CSS for SymbolPanel:

.symbol-panel-backdrop {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.4);
  z-index: 999;
  animation: fadeIn 0.2s ease;
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

.symbol-panel {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  max-height: 60vh;
  background: white;
  border-radius: 20px 20px 0 0;
  box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.2);
  z-index: 1000;
  
  display: flex;
  flex-direction: column;
  
  transform: translateY(100%);
  transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.symbol-panel.open {
  transform: translateY(0);
}

.symbol-panel-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 16px 20px;
  border-bottom: 1px solid #e2e8f0;
}

.symbol-panel-header h3 {
  margin: 0;
  font-size: 18px;
  font-weight: 600;
  color: #2d3748;
}

.close-button {
  width: 32px;
  height: 32px;
  border: none;
  background: #f7fafc;
  border-radius: 50%;
  font-size: 28px;
  line-height: 1;
  cursor: pointer;
  color: #718096;
  transition: all 0.2s ease;
}

.close-button:hover {
  background: #edf2f7;
  color: #2d3748;
}

.symbol-section {
  padding: 16px 20px;
  overflow-y: auto;
}

.section-title {
  font-size: 12px;
  font-weight: 600;
  text-transform: uppercase;
  color: #718096;
  margin-bottom: 12px;
}

.symbol-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(60px, 1fr));
  gap: 8px;
}

.symbol-grid.recent {
  grid-template-columns: repeat(auto-fill, minmax(50px, 1fr));
}

/* Scrollbar styling */
.symbol-section::-webkit-scrollbar {
  width: 6px;
}

.symbol-section::-webkit-scrollbar-track {
  background: #f7fafc;
}

.symbol-section::-webkit-scrollbar-thumb {
  background: #cbd5e0;
  border-radius: 3px;
}


PHASE 3: INTEGRATION (Day 4)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Step 3.1: Update MobileKeyboard Component
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
File: src/components/MobileKeyboard.tsx (update existing)

import React, { useState, useRef } from 'react';
import { SymbolPanel } from './SymbolPanel/SymbolPanel';
import { SymbolPanelButton } from './SymbolPanel/SymbolPanelButton';
import { useSymbolPanelStore } from '../store/symbolPanelStore';

export const MobileKeyboard: React.FC = () => {
  const [text, setText] = useState('');
  const [cursorPosition, setCursorPosition] = useState(0);
  const textInputRef = useRef<HTMLTextAreaElement>(null);
  
  const { currentContext, setContext } = useSymbolPanelStore();
  
  // Existing context detection logic
  const detectContext = (inputText: string): 'code' | 'email' | 'chat' => {
    // Your existing context detection logic
    // Example:
    if (inputText.includes('function') || inputText.includes('const')) {
      return 'code';
    } else if (inputText.includes('@') && inputText.includes('.com')) {
      return 'email';
    }
    return 'chat';
  };
  
  // Handle text changes and update context
  const handleTextChange = (e: React.ChangeEvent<HTMLTextAreaElement>) => {
    const newText = e.target.value;
    setText(newText);
    setCursorPosition(e.target.selectionStart || 0);
    
    const detectedContext = detectContext(newText);
    if (detectedContext !== currentContext) {
      setContext(detectedContext);
    }
  };
  
  // Insert symbol at cursor position
  const handleSymbolInsert = (symbolChar: string) => {
    const before = text.substring(0, cursorPosition);
    const after = text.substring(cursorPosition);
    const newText = before + symbolChar + after;
    
    setText(newText);
    
    // Update cursor position
    const newCursorPos = cursorPosition + symbolChar.length;
    setCursorPosition(newCursorPos);
    
    // Focus input and set cursor
    setTimeout(() => {
      if (textInputRef.current) {
        textInputRef.current.focus();
        textInputRef.current.setSelectionRange(newCursorPos, newCursorPos);
      }
    }, 0);
  };
  
  return (
    <div className="mobile-keyboard-container">
      {/* Text Input Area */}
      <textarea
        ref={textInputRef}
        value={text}
        onChange={handleTextChange}
        onSelect={(e) => setCursorPosition(e.currentTarget.selectionStart || 0)}
        placeholder="Start typing..."
        className="text-input"
      />
      
      {/* Your existing keyboard component */}
      <div className="keyboard">
        {/* ... existing keyboard keys ... */}
      </div>
      
      {/* Symbol Panel Button */}
      <SymbolPanelButton context={currentContext} />
      
      {/* Symbol Panel */}
      <SymbolPanel onSymbolInsert={handleSymbolInsert} />
    </div>
  );
};

Step 3.2: Create Custom Hook (Optional)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
File: src/hooks/useSymbolPanel.ts

import { useCallback } from 'react';
import { useSymbolPanelStore } from '../store/symbolPanelStore';
import { Symbol } from '../types/symbol.types';

export const useSymbolPanel = () => {
  const store = useSymbolPanelStore();
  
  const insertSymbolAtCursor = useCallback(
    (symbol: Symbol, textRef: React.RefObject<HTMLTextAreaElement>) => {
      if (!textRef.current) return;
      
      const textarea = textRef.current;
      const start = textarea.selectionStart;
      const end = textarea.selectionEnd;
      const text = textarea.value;
      
      const newText = text.substring(0, start) + symbol.char + text.substring(end);
      
      textarea.value = newText;
      textarea.selectionStart = textarea.selectionEnd = start + symbol.char.length;
      textarea.focus();
      
      // Trigger change event
      const event = new Event('input', { bubbles: true });
      textarea.dispatchEvent(event);
      
      store.insertSymbol(symbol);
    },
    [store]
  );
  
  return {
    ...store,
    insertSymbolAtCursor,
  };
};


PHASE 4: TESTING & OPTIMIZATION (Day 5)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Step 4.1: Unit Tests
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
File: src/components/SymbolPanel/__tests__/SymbolPanel.test.tsx

import { render, screen, fireEvent } from '@testing-library/react';
import { SymbolPanel } from '../SymbolPanel';
import { useSymbolPanelStore } from '../../../store/symbolPanelStore';

describe('SymbolPanel', () => {
  beforeEach(() => {
    useSymbolPanelStore.setState({ isOpen: true, currentContext: 'code' });
  });
  
  test('renders when open', () => {
    render(<SymbolPanel onSymbolInsert={jest.fn()} />);
    expect(screen.getByText('Code Symbols')).toBeInTheDocument();
  });
  
  test('calls onSymbolInsert when symbol clicked', () => {
    const handleInsert = jest.fn();
    render(<SymbolPanel onSymbolInsert={handleInsert} />);
    
    const symbolButton = screen.getByText('(');
    fireEvent.click(symbolButton);
    
    expect(handleInsert).toHaveBeenCalledWith('(');
  });
  
  test('closes on backdrop click', () => {
    render(<SymbolPanel onSymbolInsert={jest.fn()} />);
    
    const backdrop = document.querySelector('.symbol-panel-backdrop');
    fireEvent.click(backdrop!);
    
    expect(useSymbolPanelStore.getState().isOpen).toBe(false);
  });
});

Step 4.2: Performance Optimization
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Add memoization to prevent unnecessary re-renders:

File: src/components/SymbolPanel/SymbolButton.tsx (update)

import React, { memo } from 'react';
import { Symbol } from '../../types/symbol.types';

interface SymbolButtonProps {
  symbol: Symbol;
  onSelect: (symbol: Symbol) => void;
}

export const SymbolButton = memo<SymbolButtonProps>(({ symbol, onSelect }) => {
  // ... existing code ...
});

Step 4.3: Accessibility Improvements
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Add keyboard navigation:

File: src/components/SymbolPanel/SymbolPanel.tsx (update)

// Add to component:
const handleKeyDown = (event: React.KeyboardEvent) => {
  if (event.key === 'Tab') {
    // Handle tab navigation between symbols
  }
  if (event.key === 'Enter' || event.key === ' ') {
    // Select focused symbol
  }
};

// Add to panel div:
<div 
  className="symbol-panel"
  onKeyDown={handleKeyDown}
  role="dialog"
  aria-modal="true"
  aria-labelledby="symbol-panel-title"
>

Step 4.4: Animation Refinements
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Add spring animation for smoother panel opening:

File: src/components/SymbolPanel/SymbolPanel.css (update)

.symbol-panel.open {
  transform: translateY(0);
  animation: slideUp 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
}

@keyframes slideUp {
  0% {
    transform: translateY(100%);
    opacity: 0;
  }
  100% {
    transform: translateY(0);
    opacity: 1;
  }
}


PHASE 5: ADVANCED FEATURES (Day 6-7)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Step 5.1: Add Symbol Search
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
File: src/components/SymbolPanel/SymbolPanel.tsx (update)

Add search input to header:

const [searchQuery, setSearchQuery] = useState('');

const filteredSymbols = symbols.filter(symbol => 
  symbol.char.toLowerCase().includes(searchQuery.toLowerCase()) ||
  symbol.label?.toLowerCase().includes(searchQuery.toLowerCase())
);

// In JSX:
<div className="symbol-panel-header">
  <h3>{getContextTitle()}</h3>
  <input
    type="text"
    placeholder="Search symbols..."
    value={searchQuery}
    onChange={(e) => setSearchQuery(e.target.value)}
    className="symbol-search"
  />
  <button className="close-button" onClick={closePanel}>Ã—</button>
</div>

Step 5.2: Add Symbol Categories
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Group symbols by category:

const groupedSymbols = symbols.reduce((acc, symbol) => {
  const category = symbol.category || 'other';
  if (!acc[category]) acc[category] = [];
  acc[category].push(symbol);
  return acc;
}, {} as Record<string, Symbol[]>);

// In JSX:
{Object.entries(groupedSymbols).map(([category, categorySymbols]) => (
  <div key={category} className="symbol-category">
    <div className="category-title">{category}</div>
    <div className="symbol-grid">
      {categorySymbols.map((symbol, index) => (
        <SymbolButton key={index} symbol={symbol} onSelect={handleSymbolSelect} />
      ))}
    </div>
  </div>
))}

Step 5.3: Add Symbol Favorites
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
File: src/store/symbolPanelStore.ts (update)

Add favorites to state:

interface SymbolPanelState {
  // ... existing state
  favoriteSymbols: Symbol[];
  
  // ... existing actions
  toggleFavorite: (symbol: Symbol) => void;
}

// In store:
favoriteSymbols: [],

toggleFavorite: (symbol: Symbol) => {
  const { favoriteSymbols } = get();
  const isFavorite = favoriteSymbols.some(s => s.char === symbol.char);
  
  if (isFavorite) {
    set({
      favoriteSymbols: favoriteSymbols.filter(s => s.char !== symbol.char)
    });
  } else {
    set({
      favoriteSymbols: [...favoriteSymbols, symbol]
    });
  }
},

Step 5.4: Add Custom Symbols
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Allow users to add their own frequently-used symbols:

File: src/components/SymbolPanel/AddCustomSymbol.tsx

import React, { useState } from 'react';

interface AddCustomSymbolProps {
  onAdd: (symbol: string, label: string) => void;
}

export const AddCustomSymbol: React.FC<AddCustomSymbolProps> = ({ onAdd }) => {
  const [char, setChar] = useState('');
  const [label, setLabel] = useState('');
  
  const handleSubmit = (e: React.FormEvent) => {
    e.preventDefault();
    if (char) {
      onAdd(char, label);
      setChar('');
      setLabel('');
    }
  };
  
  return (
    <form onSubmit={handleSubmit} className="add-custom-symbol">
      <input
        type="text"
        placeholder="Symbol"
        value={char}
        onChange={(e) => setChar(e.target.value)}
        maxLength={10}
      />
      <input
        type="text"
        placeholder="Label (optional)"
        value={label}
        onChange={(e) => setLabel(e.target.value)}
      />
      <button type="submit">Add</button>
    </form>
  );
};

Step 5.5: Persist User Preferences
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
File: src/store/symbolPanelStore.ts (update)

import { create } from 'zustand';
import { persist } from 'zustand/middleware';

export const useSymbolPanelStore = create(
  persist<SymbolPanelState>(
    (set, get) => ({
      // ... existing state and actions
    }),
    {
      name: 'symbol-panel-storage',
      partialize: (state) => ({
        recentSymbols: state.recentSymbols,
        favoriteSymbols: state.favoriteSymbols,
      }),
    }
  )
);


PHASE 6: POLISH & DEPLOYMENT (Day 8)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Step 6.1: Add Loading States
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Show skeleton while panel initializes:

<div className="symbol-grid">
  {isLoading ? (
    Array(12).fill(0).map((_, i) => (
      <div key={i} className="symbol-button-skeleton" />
    ))
  ) : (
    symbols.map(...)
  )}
</div>

Step 6.2: Add Error Boundaries
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
File: src/components/SymbolPanel/SymbolPanelErrorBoundary.tsx

import React, { Component, ErrorInfo, ReactNode } from 'react';

interface Props {
  children: ReactNode;
}

interface State {
  hasError: boolean;
}

export class SymbolPanelErrorBoundary extends Component<Props, State> {
  public state: State = {
    hasError: false
  };

  public static getDerivedStateFromError(): State {
    return { hasError: true };
  }

  public componentDidCatch(error: Error, errorInfo: ErrorInfo) {
    console.error('SymbolPanel error:', error, errorInfo);
  }

  public render() {
    if (this.state.hasError) {
      return (
        <div className="symbol-panel-error">
          <p>Something went wrong with the symbol panel.</p>
          <button onClick={() => this.setState({ hasError: false })}>
            Try again
          </button>
        </div>
      );
    }

    return this.props.children;
  }
}

Step 6.3: Analytics Integration
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Track symbol usage for improvements:

const handleSymbolSelect = (symbol: Symbol) => {
  insertSymbol(symbol);
  onSymbolInsert(symbol.char);
  
  // Analytics
  trackEvent('symbol_selected', {
    symbol: symbol.char,
    context: currentContext,
    category: symbol.category,
  });
  
  closePanel();
};

Step 6.4: Documentation
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
File: docs/SYMBOL_PANEL.md

Create comprehensive documentation:
- Component API
- Usage examples
- Customization guide
- Troubleshooting

Step 6.5: Build & Test
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Run final checks:

# TypeScript checks
npm run type-check

# Linting
npm run lint

# Tests
npm run test

# Build
npm run build

# Test on real devices
npm run dev


DEPLOYMENT CHECKLIST
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

â–¡ All TypeScript errors resolved
â–¡ Unit tests passing (>80% coverage)
â–¡ Integration tests passing
â–¡ Accessibility audit completed
â–¡ Performance benchmarks met (<50ms symbol insertion)
â–¡ Cross-browser testing (Chrome, Safari, Firefox)
â–¡ Mobile device testing (iOS, Android)
â–¡ Error boundaries implemented
â–¡ Analytics events configured
â–¡ Documentation updated
â–¡ Changelog updated
â–¡ Version bumped


PERFORMANCE TARGETS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Metric                          Target          Current
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Panel open animation            <300ms          TBD
Symbol insertion latency        <50ms           TBD
First paint (panel)             <100ms          TBD
Memory usage (idle)             <5MB            TBD
Memory usage (active)           <10MB           TBD
Bundle size increase            <50KB           TBD


ACCESSIBILITY CHECKLIST
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

â–¡ Keyboard navigation supported (Tab, Enter, Escape)
â–¡ Screen reader compatible (ARIA labels)
â–¡ Focus management (trap focus in panel)
â–¡ Color contrast meets WCAG AA (4.5:1)
â–¡ Touch targets â‰¥48x48px
â–¡ Reduced motion support (@media prefers-reduced-motion)
â–¡ High contrast mode support


BROWSER COMPATIBILITY
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Browser                 Version         Status
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Chrome                  90+             âœ… Supported
Firefox                 88+             âœ… Supported
Safari                  14+             âœ… Supported
Edge                    90+             âœ… Supported
Chrome Mobile           90+             âœ… Supported
Safari Mobile           14+             âœ… Supported


FUTURE ENHANCEMENTS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Phase 4.1: Multi-language Support
- Unicode symbol sets for different languages
- Language-specific symbol recommendations

Phase 4.2: AI-Powered Symbol Suggestions
- Use Groq to suggest relevant symbols based on context
- Predictive symbol insertion

Phase 4.3: Gesture Support
- Swipe gestures to switch between symbol categories
- Long-press for symbol variants

Phase 4.4: Cloud Sync
- Sync favorites and custom symbols across devices
- User profile integration


TROUBLESHOOTING
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Issue: Panel doesn't open
Solution: Check z-index stacking, ensure button click handler is attached

Issue: Symbols not inserting
Solution: Verify cursor position tracking, check textarea ref

Issue: Slow animation
Solution: Use CSS transforms instead of position changes, check for layout thrashing

Issue: Memory leak
Solution: Ensure event listeners are cleaned up in useEffect

Issue: Symbols not showing correctly
Solution: Verify font support, add fallback fonts


RESOURCES
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Documentation:
- React: https://react.dev
- TypeScript: https://www.typescriptlang.org/docs
- Zustand: https://github.com/pmndrs/zustand
- Tailwind CSS: https://tailwindcss.com/docs

Design Inspiration:
- Gboard (Google Keyboard)
- SwiftKey
- iOS Keyboard
- Slack emoji picker

Unicode Resources:
- https://unicode-table.com
- https://emojipedia.org
- https://www.fileformat.info/info/unicode


CONTACT & SUPPORT
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

For questions or issues:
- GitHub Issues: [your-repo]/issues
- Email: [your-email]
- Documentation: [your-docs-url]


END OF DOCUMENT
================================================================================
Last Updated: December 3, 2025
Version: 1.0.0
Author: ContextType Development Team
================================================================================
